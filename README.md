# drf-API-for-messages
Это приложение на Django Rest Framework RESTful API, позволяющее:
- Осуществлять create, read, delete операции с сообщениями.
- Проставлять флаг "прочитано" сообщению.
- Генерировать csv-файл из всех сообщений или из ограниченного количества по параметрам фильтрации.

При создании сообщения запускается celery задача, которая ставит сообщению флаг "отправлено".
Количество допустимых запросов на создание сообщения ограничено на 10 запросов в минуту.
При превышении лимита возвращается статус 429 и пишется в лог в файл информация о запросе и клиенте.

# Для запуска приложения:
- docker-compose build
- docker compose up
  
# API: 
- GET:message/   получение списка сообщений
- POST:message/  с данными в формате {"title": "text", "body": "text"}  для создания нового сообщения
- GET:message/{id}/ получение сообщения по id 
- DELETE:message/{id}/ удаление сообщения по id

- GET:generate_csv/ сгенерировать csv файл со всеми сообщениями
- GET:generate_csv/?{title/body/created/updated=value} сгенерировать csv файл с отфильтрованными сообщениями
